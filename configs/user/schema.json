{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "definitions": {
    "python-definition": {
      "type": "object",
      "properties": {
        "module": {
          "description": "The python module to load.",
          "type": "string"
        },
        "name": {
          "description": "The python name to load.",
          "type": "string"
        }
      },
      "required": [
        "module",
        "name"
      ],
      "additionalProperties": false
    }
  },
  "properties": {
    "model": {
      "type": "object",
      "properties": {
        "definition": {
          "$ref": "#/definitions/python-definition"
        },
        "hyper_params": {
          "type": "object",
          "description": "The hyper-parameters to use for this model during training."
        },
        "source": {
          "oneOf": [
            {"enum": ["online", ""]},
            {"pattern": "^.*\\.h5$"}
          ],
          "description": "Online evaluation, pre-saved .h5 file for evaluation or undefined method of evaluation."
        }
      },
      "required": [
        "definition",
        "hyper_params",
        "source"
      ],
      "additionalProperties": false
    },
    "data_loader": {
      "type": "object",
      "properties": {
        "definition": {
          "$ref": "#/definitions/python-definition"
        },
        "hyper_params": {
          "type": "object",
          "description": "The hyper-parameters to use for this data loader."
        }
      },
      "required": [
        "definition",
        "hyper_params"
      ],
      "additionalProperties": false
    }
  },
  "required": [
    "model",
    "data_loader"
  ],
  "additionalProperties": false
}
